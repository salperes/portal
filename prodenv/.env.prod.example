# Copy to .env.prod on the server and fill secrets.

# Public host users will browse
PORTAL_PUBLIC_HOST=portal.mss.local
PORTAL_PUBLIC_SCHEME=http

# Host ports (avoid 8080 and 5000 on this server)
# If port 80 is already in use on the server, set this back to 18080 and route via existing reverse proxy.
PORTAL_HTTP_PORT=80
PORTAL_ONLYOFFICE_PORT=18088

# App
NODE_ENV=production

# Database
DB_PASSWORD=CHANGE_ME_STRONG

# JWT (change)
JWT_SECRET=CHANGE_ME_STRONG
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# LDAP / AD
LDAP_URL=ldap://192.168.88.200:389
LDAP_BASE_DN=DC=mss,DC=local
LDAP_BIND_DN=CN=portalservice,OU=MSSUsers,DC=mss,DC=local
LDAP_BIND_PASSWORD=CHANGE_ME

# MinIO
MINIO_ACCESS_KEY=CHANGE_ME
MINIO_SECRET_KEY=CHANGE_ME
MINIO_BUCKET=portal-documents

# RMS SSO
# NOTE: Docker on Linux may not resolve host.docker.internal. Use host IP/hostname.
RMS_URL=http://portal.mss.local:8080
RMS_SSO_SECRET_KEY=CHANGE_ME

# File Server (SMB)
FILE_SERVER_HOST=192.168.88.113
FILE_SERVER_DOMAIN=MSS
FILE_SERVER_ENCRYPTION_KEY=CHANGE_ME_STRONG
FILE_SERVER_SHARES=Public

# ONLYOFFICE
ONLYOFFICE_JWT_SECRET=CHANGE_ME_STRONG
